解题报告：

划分树+树状数组:
	首先进行点离散，复杂度NlogN；接着找每个区间的中位数（即加入将此区间的数排序后，最中间那个数），这可以用划分树做到QlogN；接着我们要做的就是统计每个区间比中位数小的数的个数及这些数的和为多少，就可以得到这个区间的答案，这个可以用树状数组或线段树做到NlogN ＋ QlogQ，我是用树状数组做的，具体做法是依次把数加入到树状数组中，离散值当做脚标，原始值当做关键字，当到达某个区间的某个端点对应的脚标时，假设为i，就统计[0, i]中小于这个区间中位数的数的个数和这些数的和。综上，总体复杂度是NlogN + QlogQ。

划分树：
	在建树时，不仅记录移向左边的数的个数，还记录这些数的和，在读取一个区间中间值的时候，就可以顺便读出小于中间值的数的和，总体复杂度是NlogN + QlogQ。这样代码量相对于上一个小很多，不用离散化，不用对询问离线处理。

另外，此题还允许N(logN)^3的算法通过，这就和划分树一点关系都没有了。
